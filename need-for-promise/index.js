(()=>{"use strict";var t={5426:(t,e,n)=>{n.d(e,{Z:()=>E});var a=n(8081),i=n.n(a),s=n(3645),r=n.n(s),o=n(1667),d=n.n(o),c=new URL(n(8525),n.b),l=new URL(n(5117),n.b),u=new URL(n(7736),n.b),h=new URL(n(4760),n.b),p=new URL(n(1134),n.b),m=new URL(n(986),n.b),g=new URL(n(3753),n.b),v=new URL(n(94),n.b),b=new URL(n(2581),n.b),f=r()(i());f.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&family=Poppins:wght@400;500&display=swap);"]);var y=d()(c),C=d()(l),_=d()(u),P=d()(h),w=d()(p),x=d()(m),A=d()(g),k=d()(v),I=d()(b);f.push([t.id,":root {\n    --background: black;\n    --color-input: #bdae82;\n    --color-font: #F4F4F4;\n    --rina: #32C2E2;\n    --color-hover: #090D10;\n    --under-gold: #C8A65F;\n    --gold: #af9a1d;\n}\n\n/* Reset */\n\n* {\n    padding: 0;\n    margin: 0;\n    border: 0;\n}\n\n*,\n*:before,\n*:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n:focus,\n:active {\n    outline: none;\n}\n\na:focus,\na:active {\n    outline: none;\n}\n\nnav,\nfooter,\nheader,\naside {\n    display: block;\n}\n\nhtml,\nbody {\n    height: 100%;\n    width: 100%;\n    font-size: 100%;\n    line-height: 1;\n    font-size: 14px;\n    -ms-text-size-adjust: 100%;\n    -moz-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%;\n}\n\ninput,\nbutton,\ntextarea {\n    font-family: inherit;\n}\n\ninput::-ms-clear {\n    display: none;\n}\n\nbutton {\n    cursor: pointer;\n}\n\nbutton::-moz-focus-inner {\n    padding: 0;\n    border: 0;\n}\n\na,\na:visited {\n    text-decoration: none;\n}\n\na:hover {\n    text-decoration: none;\n}\n\nul li {\n    list-style: none;\n}\n\nimg {\n    vertical-align: top;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    font-size: inherit;\n    font-weight: 400;\n}\n\n/* Reset */\n\n* {\n    box-sizing: border-box;\n}\n\nhtml {\n    scroll-behavior: smooth;\n}\n\nbody {\n    margin: 0 auto;\n}\n\n.header-wrapper {\n    background: var(--background);\n    width: 100%;\n}\n\n.header-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 7em;\n    margin: 0 auto;\n    height: 7.7em;\n    max-width: 108em;\n}\n\n.header-nav {\n    display: flex;\n    gap: 3em;\n}\n\n.button {\n    background: var(--under-gold);\n    border-radius: 3em;\n    padding: 0.2em;\n    height: 2.5em;\n    width: 8em;\n    font-family: 'Poppins', sans-serif;\n    font-style: medium;\n    font-weight: 400;\n    font-size: 1.1em;\n    line-height: 1.2em;\n    letter-spacing: 0.06em;\n    color: var(--color-hover);\n    text-align: center;\n    cursor: pointer;\n    transition: 0.5s ease-out;\n}\n\n.button:hover {\n    background: var(--color-hover);\n    color: var(--under-gold);\n    border: 2px solid var(--under-gold);\n}\n\n.header-container__title {\n    font-family: 'Poppins', sans-serif;\n    font-style: normal;\n    font-size: 3.3em;\n    line-height: 1em;\n    color: var(--under-gold);\n}\n\n.footer-wrapper {\n    width: 100%;\n    background: var(--background);\n}\n\n.footer-container {\n    max-width: 108em;\n    padding: 0 7em;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.footer-side {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    gap: 0.8em;\n}\n\n.footer-git{\n    display: flex;  \n    justify-content: space-between;\n    align-items: center;\n    padding: 0 5em;\n}\n\n.github-link {\n    width: 7em;\n    height: 2em;\n    background-image: url("+y+");\n    background-size: contain;\n    background-repeat: no-repeat;\n    filter: invert(80%) sepia(87%) saturate(679%) hue-rotate(193deg) brightness(125%) contrast(91%);\n    transition: 0.3s;\n}\n\n.github-link:hover {\n    filter: invert(54%) sepia(88%) saturate(380%) hue-rotate(14deg) brightness(93%) contrast(94%);\n}\n\n.footer-rss {\n    padding: 0 3em;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.footer-text {\n    font-family: 'Poppins', sans-serif; \n    font-style: medium;\n    font-weight: 400;\n    font-size: 1.2px;\n    line-height: 2em;\n    letter-spacing: 0.15px;\n    color: var(--color-font);\n    text-align: center;\n}\n\n.rss {\n    width: 7em;\n    height: 3em;\n    background-image: url("+C+");\n    background-size: contain;\n    background-repeat: no-repeat;\n    filter: invert(80%) sepia(87%) saturate(679%) hue-rotate(193deg) brightness(125%) contrast(91%);\n    transition: 0.3s;\n}\n\n.rss:hover {\n    filter: invert(54%) sepia(88%) saturate(380%) hue-rotate(14deg) brightness(93%) contrast(94%);\n}\n\n\n.main-container {\n    background: url("+_+");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    display: flex;\n    flex-direction: column;\n    min-height: 80vh;\n    padding: 1em;\n    gap: 2em;\n    text-align: center;\n}\n\n.main-container__title {\n    font-family: 'Poppins', sans-serif;\n    font-style: normal;\n    font-size: 3em;\n    line-height: 1em;\n    color: var(--under-gold);\n}\n\n.main-container__panel {\n    display: flex;\n    padding: 0 5em;\n    justify-content: space-between;\n    margin-bottom: 2em;\n    align-items: center;\n}\n\n.main-container__inputs {\n    display:flex;\n    flex-direction: column;\n    gap: 1em;\n}\n\n.garage-btns {\n    display: flex;\n    align-items: center;\n    gap: 1em;\n    margin-bottom: 1em;\n}\n\n.main-container__tracks {\n    display: flex;\n    flex-direction: column;\n    gap: 1em;\n}\n\n.main-container__track {\n    display: flex;\n}\n\n.track-btns {\n    width: 15em;\n}\n\n.track {\n    height: 5em;\n    width: 100%;\n    padding: 1em;\n    background: black;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n}\n\n.line {\n    border: none; \n    background: var(--under-gold);\n    height: 1.6px;\n    width: 100%;\n}\n\n.track-items {\n    padding-right: 5em;\n    display: flex;\n    justify-content: space-between;\n}\n\n.car-items {\n    display: flex;\n}\n\n.car {\n    width: 5em;\n    height: 2.9em;\n}\n\n.car-title {\n    color:var(--under-gold);\n    font-size: 1em;\n}\n\n.finish {\n    width: 2em;\n    height: 2.9em;\n    background-image: url("+P+");\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    filter: invert(54%) sepia(88%) saturate(380%) hue-rotate(14deg) brightness(93%) contrast(94%);\n}\n\n\n.main-container__buttons {\n    display: flex;\n    justify-content: center;\n    gap: 0.4em;\n}\n\n.main-container__button {\n    background: var(--under-gold);\n    font-family: 'Georgia';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 1.4em;\n    line-height: 1.5em;\n    letter-spacing: 0.06em;\n    color: var(--background);\n    display: block;\n    width: 3em;\n    height: 3em;\n    border-radius: 8em;\n    margin: 0 0.3em;\n    transition: 0.5s ease-out;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.main-container__button:hover {\n    background: var(--color-hover);\n    border: 2px solid var(--gold);\n}\n\n.main-container__button:hover img {\n    filter: invert(54%) sepia(88%) saturate(380%) hue-rotate(14deg) brightness(93%) contrast(94%);\n}\n\n.main-container__button.inactive {\n    background: transparent;\n    border: 2px solid var(--under-gold);\n    cursor: default;\n}\n\n#page-holder {\n    background: var(--color-hover);\n    border: 2px solid var(--gold);\n    color: var(--under-gold);\n}\n\n.main-container__button.inactive img {\n    filter: invert(80%) sepia(0%) saturate(1267%) hue-rotate(229deg) brightness(98%) contrast(94%);\n}\n\n.track-btn {\n    background: var(--under-gold);\n    border-radius: 2em;\n    padding: 3px;\n    height: 2em;\n    width: 5em;\n    font-family: 'Poppins', sans-serif;\n    font-style: medium;\n    font-weight: 400;\n    font-size: 1em;\n    line-height: 1em;\n    letter-spacing: 0.06em;\n    color: var(--color-hover);\n    text-align: center;\n    cursor: pointer;\n    transition: 0.5s ease-out;\n    margin: 0.3em;\n}\n\n.track-btn:hover {\n    background: var(--color-hover);\n    color: var(--under-gold);\n    border: 2px solid var(--under-gold);\n}\n\n.track-btn:disabled {\n    background: transparent;\n    color: transparent;\n    border: 2px solid var(--under-gold);\n    cursor: default;\n}\n\n.winners-page {\n    display: flex;\n    justify-content: center;\n}\n\ntable, th, td {\n    border: 2px solid var(--under-gold);\n    background: black;\n    color: var(--color-font);\n}\n\nth {\n    text-align: center;\n    width: 10em;\n    height: 3em;\n}\n\ntd {\n    text-align: center;\n    width: 6em;\n    height: 3em;\n}\n\n.create-car, .update-car {\n    display: flex;\n    gap: 1.1em;\n    align-items: center;\n}\n\n.garage-input__item {\n    border: 0.15em solid var(--under-gold);\n    border-radius: 3em;\n    background: rgba(0, 0, 0, 0.5);\n    height: 2.8em;\n    font-family: 'Poppins', sans-serif;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 1.1em;\n    line-height: 1em;\n    transition: 0.5s;\n}\n\ninput.garage-input__item {\n    color: var(--under-gold);\n    font-family: 'Poppins', sans-serif;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 1.1em;\n    padding-left: 1em;;\n    width: 15em;\n}\n\ninput:disabled {\n    color: transparent;\n    background: transparent;\n    cursor: default;\n}\n\ninput:disabled::placeholder {\n    color: transparent;\n}\n\ninput.palette {\n    background: var(--under-gold);\n    width: 5em;\n    border-radius: 3em;\n    cursor: pointer;\n    padding: 0.1em 0.6em;\n}\n\ninput.palette:disabled {\n    background: transparent;\n    cursor: default;\n}\n\n.garage-input__item::placeholder {\n    font-family: inherit;\n    color: var(--under-gold);\n    font-size: 1.1em;\n}\n\n.button:disabled {\n    background: transparent;\n    color: transparent;\n    border: 2px solid var(--under-gold);\n    cursor: default;\n}\n\n.audio-payer {\n    display: flex;\n    justify-content: space-between;\n    gap: 1em;\n    width: 33em;\n    height: 3em;\n    background: transparent;\n    align-items: center;\n    border: 3px solid var(--under-gold);\n    border-radius: 2em;\n}\n\n.controls {\n    margin-left: 1em;\n    display: flex;\n    justify-content: space-between;\n    gap: 0.5em;\n}\n\n.audio-payer__btn {\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 100%;\n    width: 2em;\n    height: 2em;\n    cursor: pointer;\n    transition: 0.2s ease-in-out;\n    filter: invert(100%) sepia(6%) saturate(48%) hue-rotate(195deg) brightness(113%) contrast(91%);\n}\n\n.prev {\n    background-image: url("+w+");\n}\n\n.controls .prev:active {\n    transform: scale(1.8);\n}\n\n.play {\n    background-image: url("+x+");\n    filter: invert(0%) sepia(6%) saturate(48%) hue-rotate(195deg) brightness(113%) contrast(91%);\n}\n\n.paused {\n    background-image: url("+A+");\n}\n\n.next {\n    background-image: url("+k+');\n}\n\n.controls .next:active {\n    transform: scale(1.8);\n}\n\n.progress-bar {\n    height: 0.6em;\n    width: 100%;\n    border-radius: 0.8em;\n    position: relative;\n    background: var(--under-gold);\n}\n\nprogress::-webkit-progress-value {\n    background: var(--under-gold);\n}\n\n.progress-bar::before {\n    content: "";\n    position: absolute;\n    height: 0.9em;\n    width: 0.9em;\n    border-radius: inherit;\n    background: rgb(255, 0, 0);\n    top: 50%;\n    right: -5px;\n    transform: translateY(-50%);\n    opacity: 0;\n    transition: opacity 0.3s ease-in;\n}\n\n.progress-controls:hover .progress-bar::before {\n    opacity: 1;\n}\n\n.mute {\n    background-image: url('+I+");\n    margin-right: 1em;\n}\n\n\n\n@media (min-width: 490px) and (max-width: 1100px) {\n    .header-container {\n        flex-direction: column;\n        height: 13em;\n        justify-content: center;\n        gap: 1em;\n    }\n    .main-container__panel {\n        flex-direction: column;\n        gap: 2em;\n        margin-top: 1em;\n    }\n    .main-container__inputs {\n        order: -1;\n    }\n}\n\n@media (min-width: 490px) and (max-width:770px) {\n    .header-container__title {\n        font-size: 2.3em;\n    }\n\n    .footer-container {\n        padding: 0;\n    }\n}",""]);const E=f},3645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,i,s){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(a)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(r[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);a&&r[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},1667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{t.exports=function(t){return t[1]}},7654:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var a=n(3379),i=n.n(a),s=n(7795),r=n.n(s),o=n(569),d=n.n(o),c=n(3565),l=n.n(c),u=n(9216),h=n.n(u),p=n(4589),m=n.n(p),g=n(5426),v={};v.styleTagTransform=m(),v.setAttributes=l(),v.insert=d().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=h(),i()(g.Z,v);const b=g.Z&&g.Z.locals?g.Z.locals:void 0},3379:t=>{var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var s={},r=[],o=0;o<t.length;o++){var d=t[o],c=a.base?d[0]+a.base:d[0],l=s[c]||0,u="".concat(c," ").concat(l);s[c]=l+1;var h=n(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var m=i(p,a);a.byIndex=o,e.splice(o,0,{identifier:u,updater:m,references:1})}r.push(u)}return r}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var s=a(t=t||[],i=i||{});return function(t){t=t||[];for(var r=0;r<s.length;r++){var o=n(s[r]);e[o].references--}for(var d=a(t,i),c=0;c<s.length;c++){var l=n(s[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=d}}},569:t=>{var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},9216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,i&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},8675:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.apiProvider=void 0,e.apiProvider="http://127.0.0.1:3000"},8575:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Methods=void 0,(n=e.Methods||(e.Methods={})).Get="GET",n.Post="POST",n.Put="PUt",n.Delete="DELETE",n.Patch="PATCH"},5368:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Paths=void 0,(n=e.Paths||(e.Paths={})).Garage="/garage",n.Winners="/winners",n.Engine="/engine"},9510:(t,e)=>{var n,a;Object.defineProperty(e,"__esModule",{value:!0}),e.CarStatuses=e.ResponseStatuses=void 0,(a=e.ResponseStatuses||(e.ResponseStatuses={}))[a.Ok=200]="Ok",a[a.Created=201]="Created",a[a.BadRequest=400]="BadRequest",a[a.NotFound=404]="NotFound",a[a.TooManyRequests=429]="TooManyRequests",a[a.InternalServerError=500]="InternalServerError",(n=e.CarStatuses||(e.CarStatuses={})).Started="started",n.Stopped="stopped",n.Drive="drive"},9962:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(194),s=n(9767),r=n(2170);e.default=class{constructor(){this.controller=new i.AppController,this.view=new s.AppView}start(){return a(this,void 0,void 0,(function*(){yield this.controller.getCars(),yield this.view.renderHeader(),yield this.view.render(),yield this.view.routing(),this.player=new r.Player,this.player.init()}))}}},194:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.AppController=void 0;const i=n(8675),s=n(5368),r=n(8575),o=n(6207),d=n(9510);e.AppController=class{getCars(t=1,e=7){return a(this,void 0,void 0,(function*(){const n=yield fetch(`${i.apiProvider}${s.Paths.Garage}?`+new URLSearchParams({_page:t.toString(),_limit:e.toString()}),{method:r.Methods.Get});if(n.status===d.ResponseStatuses.Ok){const t=yield n.json();o.state.setCars(t),o.state.setCarsAmount(Number(n.headers.get("X-Total-Count")))}}))}getCar(t){return a(this,void 0,void 0,(function*(){try{const e=yield fetch(`${i.apiProvider}${s.Paths.Garage}/${t}`);if(e.status===d.ResponseStatuses.Ok)return yield e.json()}catch(e){console.log(`id ${t} is not found`)}return Promise.resolve(void 0)}))}createCar(t){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${i.apiProvider}${s.Paths.Garage}`,{method:r.Methods.Post,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=yield e.json();o.state.addCar(n)}))}updateCar(t,e){return a(this,void 0,void 0,(function*(){const n=yield fetch(`${i.apiProvider}${s.Paths.Garage}/${t}`,{method:r.Methods.Put,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=yield n.json();o.state.updateCar(a)}))}deleteCar(t){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${i.apiProvider}${s.Paths.Garage}/${t}`,{method:r.Methods.Delete});e.status===d.ResponseStatuses.Ok?yield this.getCars():e.status===d.ResponseStatuses.NotFound&&console.log(`id ${t} is not found`)}))}}},9767:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.AppView=void 0;const i=n(199),s=n(8202),r=n(408),o=n(6644),d=n(4073),c=n(5358);e.AppView=class{constructor(){this.header=new i.Header,this.main=new s.Main,this.pagination=new d.Pagination,this.footer=new r.Footer,this.pagePaths=o.PagePaths.Garage,this.winnersTable=new c.WinnersTable}init(){return a(this,void 0,void 0,(function*(){return this.template=`\n    <div id="router">\n      <main class="main-container" id="main-container">\n        ${this.pagePaths===o.PagePaths.Garage?yield this.initGaragePage.call(this):yield this.initWinnersPage.call(this)}\n      </main>\n      ${yield this.footer.render()}\n    </div>\n    `,this.template}))}initHeader(){return a(this,void 0,void 0,(function*(){this.headerTemplate=`\n    ${yield this.header.render()}\n    `}))}renderHeader(){return a(this,void 0,void 0,(function*(){yield this.initHeader(),document.querySelector("body").insertAdjacentHTML("afterbegin",this.headerTemplate)}))}initGaragePage(){return a(this,void 0,void 0,(function*(){return`\n    ${yield this.main.render()}\n    ${yield this.pagination.render()}\n    `}))}initWinnersPage(){return a(this,void 0,void 0,(function*(){return`\n    ${yield this.winnersTable.render()}\n    ${yield this.pagination.render()}\n    `}))}changePagePathToGarage(){this.pagePaths=o.PagePaths.Garage}changePagePathToWinners(){this.pagePaths=o.PagePaths.Winners}subscribe(){this.pagination.subscribeOnNext(this.updateMain.bind(this)),this.pagination.subscribeOnPrev(this.updateMain.bind(this)),this.pagination.subscribeOnStart(this.updateMain.bind(this)),this.pagination.subscribeOnEnd(this.updateMain.bind(this)),this.main.subscribeSelectCar(),this.main.subscribeUpdateCar(this.updateMain.bind(this)),this.main.subscribeDeleteCar(this.updateMain.bind(this)),this.main.subscribeOnStart(),this.main.subscribeOnStop(),this.main.resetBtnsStatus()}updateMain(){return a(this,void 0,void 0,(function*(){yield this.main.updateTrack(),yield this.pagination.updatePagination(),this.subscribe()}))}routing(){return a(this,void 0,void 0,(function*(){this.header.subscribeOnGarage(this.changePagePathToGarage.bind(this),this.render.bind(this)),this.header.subscribeOnWinners(this.changePagePathToWinners.bind(this),this.render.bind(this))}))}render(){return a(this,void 0,void 0,(function*(){yield this.init(),document.querySelector("body").insertAdjacentHTML("beforeend",this.template),this.pagePaths===o.PagePaths.Garage&&(this.subscribe(),this.main.subscribeCreateCar(this.updateMain.bind(this)),this.main.subscribeAddCars(this.updateMain.bind(this)),this.main.updatePanelStatus(),this.main.updateBtnsStatus(),this.main.subscribeOnAsyncRace(),this.main.subscribeOnResetRace()),this.pagePaths,o.PagePaths.Winners}))}}},4564:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CarController=void 0;const i=n(8675),s=n(9510),r=n(5368),o=n(8575),d=n(6207);e.CarController=class{constructor(){this.animateCarIds=d.state.getAnimateCarIds()}animateCar(t){const e=document.getElementById("track"),n=document.getElementById(`car-${t}`),a=d.state.getCharsByCarId(t),i=a.distance/a.velocity,s=e.clientWidth-n.clientWidth-28,r=performance.now(),o=e=>{let a=(e-r)/i;var c;a>1&&(a=1),c=a,n.style.transform=`translateX(${c*s}px)`,a<1&&(this.animateCarIds[t]=requestAnimationFrame(o.bind(this)),d.state.setAnimateCarId(t,this.animateCarIds[t]))};this.animateCarIds[t]=requestAnimationFrame(o.bind(this)),d.state.deleteAnimateCarId(t)}stopAnimateCar(t){cancelAnimationFrame(this.animateCarIds[t]),d.state.deleteAnimateCarId(t)}cancelAllCarsAnimation(){Object.values(this.animateCarIds).forEach((t=>{cancelAnimationFrame(t)})),this.animateCarIds={},d.state.resetAnimateCarIds()}runAllCarsAnimation(){Object.values(this.animateCarIds).forEach((t=>{this.animateCar(t)}))}resetCar(t){document.getElementById(`car-${t}`).style.transform="translateX(0px)"}startCar(t){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${i.apiProvider}${r.Paths.Engine}?id=${t}&status=${s.CarStatuses.Started}`,{method:o.Methods.Patch});return yield e.json()}))}stopCar(t){return a(this,void 0,void 0,(function*(){const e=yield fetch(`${i.apiProvider}${r.Paths.Engine}?id=${t}&status=${s.CarStatuses.Stopped}`,{method:o.Methods.Patch});this.stopAnimateCar(t);const n=yield e.json();return d.state.deleteCarChars(t),this.resetCar(t),n}))}driveCar(t){return a(this,void 0,void 0,(function*(){const e=(yield fetch(`${i.apiProvider}${r.Paths.Engine}?id=${t}&status=${s.CarStatuses.Drive}`,{method:o.Methods.Patch})).status===s.ResponseStatuses.Ok;return e||this.stopAnimateCar(t),e?{success:t}:{success:!1}}))}raceCar(t){return a(this,void 0,void 0,(function*(){return this.startCar(t).then((e=>a(this,void 0,void 0,(function*(){return d.state.setCarChars(t,e),this.animateCarIds=d.state.getAnimateCarIds(),this.animateCar(t),this.driveCar(t)})))).then((t=>{if(!t.success)throw new Error("you lose!");return t}))}))}raceCars(t){return a(this,void 0,void 0,(function*(){return Promise.any(t.map((t=>this.raceCar(t)))).then((t=>(console.log(t,"win"),d.state.getCars().forEach((e=>{e.id===t.success&&alert(`${e.name} wins this race!`)})),t)))}))}resetCars(t){return a(this,void 0,void 0,(function*(){return Promise.all(t.map((t=>this.stopCar(t))))}))}}},1371:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WINNERS_LIMIT_PER_PAGE=e.CARS_LIMIT_PER_PAGE=void 0,e.CARS_LIMIT_PER_PAGE=7,e.WINNERS_LIMIT_PER_PAGE=10},6207:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.state=void 0;const a=n(1371);e.state=new class{constructor(){this.state=this.getEmptyState()}getEmptyState(){return{cars:[],carsAmount:0,selectedCarId:null,page:1,carsChars:{},winners:[],winnersAmount:0,animateCarIds:{},isAnimationPaused:{}}}setCars(t){this.state=Object.assign(Object.assign({},this.state),{cars:t})}setCarsAmount(t){this.state=Object.assign(Object.assign({},this.state),{carsAmount:t})}setSelectedCar(t){this.state=Object.assign(Object.assign({},this.state),{selectedCarId:t})}setPage(t){this.state=Object.assign(Object.assign({},this.state),{page:t})}addCar(t){this.state.cars.length<a.CARS_LIMIT_PER_PAGE?this.state=Object.assign(Object.assign({},this.state),{cars:[...this.state.cars,t],carsAmount:this.state.carsAmount+1}):this.state=Object.assign(Object.assign({},this.state),{carsAmount:this.state.carsAmount+1})}updateCar(t){this.state=Object.assign(Object.assign({},this.state),{cars:this.state.cars.map((e=>e.id===t.id?t:e))})}getCars(){return this.state.cars}getCarsAmount(){return this.state.carsAmount}getPage(){return this.state.page}getSelectedCar(){return this.state.selectedCarId}setCarChars(t,e){this.state.carsChars[t]=e}deleteCarChars(t){delete this.state.carsChars[t]}getCharsByCarId(t){return this.state.carsChars[t]}setAnimateCarId(t,e){this.state.animateCarIds=Object.assign(Object.assign({},this.state.animateCarIds),{[this.state.page]:Object.assign(Object.assign({},this.state.animateCarIds[this.state.page]),{[t]:e})})}deleteAnimateCarId(t){"object"==typeof this.state.animateCarIds[this.state.page]&&delete this.state.animateCarIds[this.state.page][t]}getAnimateCarIds(){return this.state.animateCarIds[this.state.page]?this.state.animateCarIds[this.state.page]:{}}resetAnimateCarIds(){this.state.animateCarIds[this.state.page]={}}pauseAnimationPage(){this.state.isAnimationPaused[this.state.page]=!0}startAnimationPage(){this.state.isAnimationPaused[this.state.page]=!1}isAnimationOnPagePaused(){return!!this.state.isAnimationPaused[this.state.page]&&this.state.isAnimationPaused[this.state.page]}isDriveForCarInProgress(t){return!!this.state.animateCarIds[this.state.page]&&Boolean(this.state.animateCarIds[this.state.page][t])}isDriveForAllCarsInProgress(){return!!this.state.animateCarIds[this.state.page]&&this.state.cars.every((t=>this.isDriveForCarInProgress(t.id)))}getWinners(){return this.state.winners}setWinnersAmount(t){this.state=Object.assign(Object.assign({},this.state),{winnersAmount:t})}getWinnersAmount(){return this.state.winnersAmount}}},1196:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.generateCars=void 0,e.generateCars=function(){const t=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lada","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],e=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","Celica","Carrera","Lancer","CR-V","Corolla","C4 Cactus","Impala","C1","C3","Studenta 1","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","Skyline","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Supra","Ghost","Dawn","Murcielago","M5","GTR","Camaro","M3","Aventador","Gallardo","Cayman","RAV4","Rio","Creta","Solaris"];return{name:`${t[Math.floor(Math.random()*t.length)]} ${e[Math.floor(Math.random()*e.length)]}`,color:(()=>{let t="#";for(let e=0;e<6;e+=1)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t})()}}},408:function(t,e){var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Footer=void 0,e.Footer=class{init(){return n(this,void 0,void 0,(function*(){return this.template='\n        <footer class="footer-wrapper" id="footer">\n            <div class="footer-container">\n                <div class="footer-git">\n                    <p class="footer-text">2022</p>\n                    <a href="https://github.com/PavelTitov16" class="github-link"></a>\n                </div>\n                <div class="footer-rss">\n                    <a href="https://rs.school/js/" class="rss"></a>\n                </div>\n            </div>\n        </footer>',this.template}))}render(){return n(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}}},199:function(t,e){var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0,e.Header=class{init(){return n(this,void 0,void 0,(function*(){return this.template='\n        <header class="header-wrapper">\n            <div class="header-container">\n                <h1 class="header-container__title" id="app-title">\n                    Need for Promise\n                </h1>\n                <div class="audio-payer">\n                  <audio class="audio" id="audio"></audio>\n                  <div class="controls">\n                    <div id="prev" class="audio-payer__btn prev"></div>\n                    <div id="play" class="audio-payer__btn play"></div>\n                    <div id="next" class="audio-payer__btn next"></div>\n                  </div>\n                  <progress class="progress-bar" id="progress-bar" value="0" max="1"></progress>\n                  <div id="mute" class="audio-payer__btn mute"></div>\n                </div>\n                <nav class="header-nav">\n                    <div class="header-nav__item">\n                        <button id="garage-btn" class="header__btn button">\n                            Garage\n                        </button>\n                    </div>\n                    <div class="header-nav__item">\n                        <button id="winners-btn" class="header__btn button">\n                            Winners\n                        </button>\n                    </div>\n                </nav>\n            </div>\n        </header>',this.template}))}subscribeOnGarage(t,e){const a=document.getElementById("garage-btn");null==a||a.addEventListener("click",(a=>n(this,void 0,void 0,(function*(){a.preventDefault();const n=document.getElementById("router");n&&(n.remove(),t(),yield e())}))))}subscribeOnWinners(t,e){const a=document.getElementById("winners-btn");null==a||a.addEventListener("click",(a=>n(this,void 0,void 0,(function*(){a.preventDefault();const n=document.getElementById("router");n&&(n.remove(),t(),yield e())}))))}render(){return n(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}}},8202:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Main=void 0;const i=n(6207);n(3909);const s=n(194),r=n(1196),o=n(1371),d=n(4564);e.Main=class{constructor(){this.controller=new s.AppController,this.carController=new d.CarController}init(){return a(this,void 0,void 0,(function*(){return this.template=`\n        \n        <div class="garage-page">\n            <h2 class="main-container__title" id="main-title">\n                Garage\n            </h2>\n            <div class="main-container__panel">\n            <div class="main-panel__items">\n              <div class="garage-btns">\n                <button id="addCars-btn" class="header__btn button">\n                  Add cars\n                </button>\n                <button id="race-btn" class="header__btn button">\n                  Let's race!\n                </button>\n                <button id="reset-btn" class="header__btn button" disabled>\n                  Reset race\n                </button>\n              </div>\n              <h2 class="main-container__title" id="cars-counter">\n                ${yield i.state.getCarsAmount()} cars for race\n              </h2>\n            </div>\n                <div class="main-container__inputs">\n                    <div class="garage-input">\n                        <form action="" class="create-car">\n                            <input type="text" id="create-input" class="garage-input__item" placeholder="Fill the name" />\n                            <input type="color" name="color-panel" id="create-color" class="garage-input__item palette" value="#000000">\n                            <button id="create-btn" class="header__btn button garage-btn">\n                                Add car\n                            </button>\n                        </form>\n                    </div>\n                    <div class="garage-input">\n                        <form action="" class="update-car">\n                            <input type="text" id="update-input" class="garage-input__item" placeholder="Fill the name" />\n                            <input type="color" name="color-panel" id="update-color" class="garage-input__item palette" value="#000000">\n                            <button id="update-btn" class="header__btn button garage-btn">\n                                Update car\n                            </button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class="main-container__tracks" id="main-container__tracks">\n                ${yield this.trackInit()}\n            </div>\n        </div>`,this.template}))}updateTrack(){return a(this,void 0,void 0,(function*(){const t=document.getElementById("main-container__tracks"),e=document.getElementById("cars-counter");t.innerHTML=`\n      ${yield this.trackInit()}\n    `,e.innerHTML=`\n      ${yield i.state.getCarsAmount()} cars for race\n  `}))}trackInit(){return a(this,void 0,void 0,(function*(){return`${i.state.getCars().map((({name:t,color:e,id:n})=>`\n                <div class="main-container__track" id="${n}">\n                    <div class="track-btns">\n                        <button id="select-btn-${n}" class="track-btn">\n                            Select\n                        </button>\n                        <button id="remove-btn-${n}" class="track-btn">\n                            Remove\n                        </button>\n                        <button id="drive-btn-${n}" class="track-btn drive-btn">\n                            Drive\n                        </button>\n                        <button id="back-btn-${n}" class="track-btn back-btn" disabled>\n                            Back\n                        </button>\n                    </div>\n                    <div class="track" id="track">\n                        <hr class="line">\n                        <div class="track-items">\n                            <div class="car-items">\n                                <div class="car" style="fill: ${e}">\n                                    <svg class="car" id="car-${n}">\n                                        <use xlink:href="assets/images/sprite_car.svg#car"></use>\n                                    </svg>\n                                </div>\n                                <h2 class="car-title">${t}</h2>\n                            </div>\n                            <div class="finish"></div>\n                        </div>\n                        <hr class="line">\n                    </div>\n                </div>`)).join("")}`}))}render(){return a(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}subscribeCreateCar(t){const e=document.getElementById("create-btn");null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault();const n=document.getElementById("create-input"),a=document.getElementById("create-color");yield this.controller.createCar({name:n.value,color:a.value}),t()}))))}updatePanelStatus(){const t=i.state.getSelectedCar(),e=document.getElementById("update-input"),n=document.getElementById("update-color"),a=document.getElementById("update-btn");if(t){const s=i.state.getCars().find((e=>e.id===t));s&&(e.disabled=!1,n.disabled=!1,a.disabled=!1,e.value=s.name,n.value=s.color)}else e.disabled=!0,n.disabled=!0,a.disabled=!0}subscribeSelectCar(){const t=document.getElementById("main-container__tracks");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=t.target;if(e.id.includes("select-btn")){const t=Number(e.id.split("-").pop());i.state.setSelectedCar(t),this.updatePanelStatus()}}))))}subscribeUpdateCar(t){const e=document.getElementById("update-btn");null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){const n=i.state.getSelectedCar();e.preventDefault();const a=document.getElementById("update-input"),s=document.getElementById("update-color");n&&(yield this.controller.updateCar(n,{name:a.value,color:s.value}),t())}))))}subscribeDeleteCar(t){const e=document.getElementById("main-container__tracks");null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault();const n=e.target;if(n.id.includes("remove-btn")){const e=Number(n.id.split("-").pop());yield this.controller.deleteCar(e),yield this.controller.getCars(i.state.getPage(),o.CARS_LIMIT_PER_PAGE),t()}}))))}subscribeAddCars(t){const e=document.getElementById("addCars-btn");null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault();const n=[];for(let t=0;t<100;t+=1)n.push((0,r.generateCars)());yield Promise.all(n.map((t=>a(this,void 0,void 0,(function*(){yield this.controller.createCar(t)}))))),t()}))))}subscribeOnStart(){return a(this,void 0,void 0,(function*(){const t=document.getElementById("main-container__tracks");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=t.target,n=e.nextElementSibling,a=document.getElementById("race-btn"),i=document.getElementById("reset-btn"),s=document.getElementById("winners-btn"),r=document.getElementById("garage-btn");if(e.id.includes("drive-btn")){e.disabled=!0,n.disabled=!1,a.disabled=!0,i.disabled=!1,s.disabled=!0,r.disabled=!0;const t=Number(e.id.split("-").pop());yield this.carController.raceCar(t)}}))))}))}subscribeOnStop(){return a(this,void 0,void 0,(function*(){const t=document.getElementById("main-container__tracks");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=t.target,n=e.previousElementSibling,a=document.getElementById("race-btn"),i=document.getElementById("reset-btn"),s=document.getElementById("winners-btn"),r=document.getElementById("garage-btn");if(e.id.includes("back-btn")){e.disabled=!0,n.disabled=!1,a.disabled=!1,i.disabled=!0,s.disabled=!1,r.disabled=!1;const t=Number(e.id.split("-").pop());yield this.carController.stopCar(t)}}))))}))}subscribeOnAsyncRace(){return a(this,void 0,void 0,(function*(){const t=document.getElementById("race-btn");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=Array.from(document.getElementsByClassName("drive-btn")),n=Array.from(document.getElementsByClassName("back-btn")),a=Array.from(document.getElementsByClassName("pag-btn"));for(let t=0;t<e.length;t+=1)e[t].disabled=!0,n[t].disabled=!1;for(let t=0;t<a.length;t+=1)a[t].disabled=!0;const s=i.state.getCars().map((t=>t.id));yield this.carController.raceCars(s)}))))}))}subscribeOnResetRace(){return a(this,void 0,void 0,(function*(){const t=document.getElementById("reset-btn");null==t||t.addEventListener("click",(t=>a(this,void 0,void 0,(function*(){t.preventDefault();const e=Array.from(document.getElementsByClassName("drive-btn")),n=Array.from(document.getElementsByClassName("back-btn")),a=Array.from(document.getElementsByClassName("pag-btn"));for(let t=0;t<e.length;t+=1)e[t].disabled=!1,n[t].disabled=!0;for(let t=0;t<a.length;t+=1)a[t].disabled=!1;const s=i.state.getCars().map((t=>t.id));yield this.carController.resetCars(s)}))))}))}updateBtnsStatus(){const t=document.getElementById("race-btn"),e=document.getElementById("reset-btn"),n=document.getElementById("winners-btn"),a=document.getElementById("garage-btn");t.addEventListener("click",(()=>{t.disabled=!0,e.disabled=!1,n.disabled=!0,a.disabled=!0})),e.addEventListener("click",(()=>{t.disabled=!1,e.disabled=!0,n.disabled=!1,a.disabled=!1}))}resetBtnsStatus(){const t=document.getElementById("race-btn"),e=document.getElementById("reset-btn");i.state.isDriveForAllCarsInProgress()?(t.disabled=!0,e.disabled=!1):(t.disabled=!1,e.disabled=!0)}}},4073:function(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Pagination=void 0;const i=n(6207),s=n(1371),r=n(194),o=n(4564);e.Pagination=class{constructor(){this.controller=new r.AppController,this.carController=new o.CarController}init(){return a(this,void 0,void 0,(function*(){return this.template=`\n        <div class="main-container__buttons" id="main-container__buttons">\n            <button class="pag-btn main-container__button ${this.isPrevActive()?"":"inactive"}" id="swipeL">\n                <img src="./assets/images/swipe-left.svg" alt="swipe left">\n            </button>\n            <button class="pag-btn main-container__button ${this.isPrevActive()?"":"inactive"}" id="leftB">\n                <img src="./assets/images/icon-left.svg" alt="arrow left">\n            </button>\n            <button class="main-container__button inactive" id="page-holder">\n              ${yield i.state.getPage()}\n            </button>\n            <button class="pag-btn main-container__button ${this.isNextActive()?"":"inactive"}" id="rightB">\n                <img src="./assets/images/icon-right.svg" alt="arrow right">\n            </button>\n            <button class="pag-btn main-container__button ${this.isNextActive()?"":"inactive"}" id="swipeR">\n                <img src="./assets/images/swipe-right.svg" alt="swipe right">\n            </button>\n        </div> `,this.template}))}render(){return a(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}isNextActive(){const t=i.state.getCarsAmount()>s.CARS_LIMIT_PER_PAGE,e=i.state.getPage()*s.CARS_LIMIT_PER_PAGE<i.state.getCarsAmount();return t&&e}isPrevActive(){const t=i.state.getCarsAmount()>s.CARS_LIMIT_PER_PAGE,e=i.state.getPage()*s.CARS_LIMIT_PER_PAGE>s.CARS_LIMIT_PER_PAGE;return t&&e}updatePagination(){return a(this,void 0,void 0,(function*(){document.getElementById("main-container__buttons").innerHTML=`\n      ${yield this.init()}\n    `}))}subscribeOnNext(t){const e=document.getElementById("rightB");let n=i.state.getPage();const s=i.state.getCarsAmount(),r=Math.ceil(s/7);null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){if(e.preventDefault(),n<r){const e=i.state.getAnimateCarIds();0!==Object.keys(e).length&&(this.carController.cancelAllCarsAnimation(),i.state.pauseAnimationPage(),this.carController.resetCars(Object.keys(e).map((t=>Number(t))))),n+=1,yield this.controller.getCars(n),i.state.setPage(n),t(),i.state.isAnimationOnPagePaused()&&(i.state.startAnimationPage(),this.carController.runAllCarsAnimation())}}))))}subscribeOnPrev(t){const e=document.getElementById("leftB");null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){let n=i.state.getPage();if(e.preventDefault(),n>1){const e=i.state.getAnimateCarIds();0!==Object.keys(e).length&&(this.carController.cancelAllCarsAnimation(),i.state.pauseAnimationPage(),this.carController.resetCars(Object.keys(e).map((t=>Number(t))))),n=i.state.getPage()-1,yield this.controller.getCars(n),i.state.setPage(n),t(),i.state.isAnimationOnPagePaused()&&(i.state.startAnimationPage(),this.carController.runAllCarsAnimation())}}))))}subscribeOnStart(t){const e=document.getElementById("swipeL");null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault(),yield this.controller.getCars(1),i.state.setPage(1),t()}))))}subscribeOnEnd(t){const e=document.getElementById("swipeR"),n=i.state.getCarsAmount(),s=Math.ceil(n/7);null==e||e.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){e.preventDefault(),yield this.controller.getCars(s),i.state.setPage(s),t()}))))}}},2170:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0,n(7606),n(515),n(7080),n(2223),n(3100),n(131),n(6458),n(2098),n(6340),n(9419),n(8280),e.Player=class{constructor(){this.audio=document.getElementById("audio"),this.playBtn=document.getElementById("play"),this.prevBtn=document.getElementById("prev"),this.nextBtn=document.getElementById("next"),this.muteBtn=document.getElementById("mute"),this.progressbar=document.getElementById("progress-bar"),this.playList=["1.Riders on the Storm","2.Get Low","3.In A Hood Near You","4.24","5.I Need Speed","6.Nine Thou","7.Black Betty","8.LAX","9.Fired up","10.Born Too Slow","11.Most Wanted Mash Up"],this.limit=this.playList.length,this.currentSound=0}loadMusic(){this.audio.src=`assets/audio/${this.playList[this.currentSound]}.mp3`,this.audio.load()}playMusic(){this.playBtn.classList.add("paused"),this.audio.play()}pauseMusic(){this.playBtn.classList.remove("paused"),this.audio.pause()}nextMusic(){this.currentSound+=1,this.currentSound>this.limit&&(this.currentSound=0),this.loadMusic(),this.playMusic()}prevMusic(){this.currentSound-=1,this.currentSound<0&&(this.currentSound=this.limit-1),this.loadMusic(),this.playMusic()}pressMute(){this.audio.muted?this.audio.muted=!1:this.audio.muted=!0}startAutoPlay(){this.audio.muted=!1,this.loadMusic(),this.playMusic()}subscribeAutoPlay(){window.addEventListener("click",this.startAutoPlay.bind(this),{once:!0})}timeUpdate(){this.audio.ontimeupdate=()=>{Number.isNaN(this.audio.duration)||(this.progressbar.value=this.audio.currentTime/this.audio.duration)}}pressPlayMusic(){this.playBtn.addEventListener("click",(()=>{this.loadMusic(),this.playBtn.classList.contains("paused")?this.pauseMusic():this.playMusic()}))}pressNextMusic(){this.nextBtn.addEventListener("click",(()=>{this.nextMusic()}))}pressPrevMusic(){this.prevBtn.addEventListener("click",(()=>{this.prevMusic()}))}pressMuteMusic(){this.muteBtn.addEventListener("click",(()=>{this.pressMute()}))}init(){this.timeUpdate(),this.pressPlayMusic(),this.pressNextMusic(),this.pressPrevMusic(),this.pressMuteMusic(),this.subscribeAutoPlay()}}},5358:function(t,e){var n=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(i,s){function r(t){try{d(a.next(t))}catch(t){s(t)}}function o(t){try{d(a.throw(t))}catch(t){s(t)}}function d(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,o)}d((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.WinnersTable=void 0,e.WinnersTable=class{init(){return n(this,void 0,void 0,(function*(){return this.template='\n        <h2 class="main-container__title" id="win-title">\n            Winners (2)\n        </h2>\n        <div class="winners-page">\n            <table>\n                <thead>\n                    <tr>\n                        <th>№</th>\n                        <th>Car</th>\n                        <th>Car model</th>\n                        <th>Wins</th>\n                        <th>Best time</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>1</td>\n                        <td>\n                            <svg class="car" id="car">\n                                <use xlink:href="assets/images/sprite_car.svg#car"></use>\n                            </svg>\n                        </td>\n                        <td>Nissan</td>\n                        <td>1</td>\n                        <td>10.3</td>\n                    </tr>\n                    <tr>\n                        <td>2</td>\n                        <td>\n                            <svg class="car" id="car">\n                                <use xlink:href="assets/images/sprite_car.svg#car"></use>\n                            </svg>\n                        </td>\n                        <td>Dodge</td>\n                        <td>2</td>\n                        <td>9.3</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>',this.template}))}render(){return n(this,void 0,void 0,(function*(){return yield this.init(),this.template}))}}},3607:function(t,e,n){var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(7654),n(8675),n(5368),n(9962),n(194),n(9767),(new(a(n(9962)).default)).start()},6644:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.PagePaths=void 0,(n=e.PagePaths||(e.PagePaths={})).Garage="garage",n.Winners="winners"},7606:(t,e,n)=>{t.exports=n.p+"./assets/audio/1.Riders on the Storm.mp3"},9419:(t,e,n)=>{t.exports=n.p+"./assets/audio/10.Born Too Slow.mp3"},8280:(t,e,n)=>{t.exports=n.p+"./assets/audio/11.Most Wanted Mash Up.mp3"},515:(t,e,n)=>{t.exports=n.p+"./assets/audio/2.Get Low.mp3"},7080:(t,e,n)=>{t.exports=n.p+"./assets/audio/3.In A Hood Near You.mp3"},2223:(t,e,n)=>{t.exports=n.p+"./assets/audio/4.24.mp3"},3100:(t,e,n)=>{t.exports=n.p+"./assets/audio/5.I Need Speed.mp3"},131:(t,e,n)=>{t.exports=n.p+"./assets/audio/6.Nine Thou.mp3"},6458:(t,e,n)=>{t.exports=n.p+"./assets/audio/7.Black Betty.mp3"},2098:(t,e,n)=>{t.exports=n.p+"./assets/audio/8.LAX.mp3"},6340:(t,e,n)=>{t.exports=n.p+"./assets/audio/9.Fired up.mp3"},8525:(t,e,n)=>{t.exports=n.p+"assets/logo/GihHub.svg"},4760:(t,e,n)=>{t.exports=n.p+"assets/logo/finish.png"},2581:(t,e,n)=>{t.exports=n.p+"assets/logo/mute.svg"},3753:(t,e,n)=>{t.exports=n.p+"assets/logo/pause.svg"},986:(t,e,n)=>{t.exports=n.p+"assets/logo/play.svg"},1134:(t,e,n)=>{t.exports=n.p+"assets/logo/prev.svg"},94:(t,e,n)=>{t.exports=n.p+"assets/logo/skip.svg"},5117:(t,e,n)=>{t.exports=n.p+"assets/logo/rs_school.svg"},3909:(t,e,n)=>{t.exports=n.p+"assets/logo/sprite_car.svg"},7736:(t,e,n)=>{t.exports=n.p+"assets/logo/underground.jpg"}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={id:a,exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var a=e.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,n(3607)})();